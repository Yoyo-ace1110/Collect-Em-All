# ðŸ“Š Collect-Em-All å°ˆæ¡ˆé‚è¼¯æµç¨‹åœ– (Project Logic Flowcharts)

## 1ï¸âƒ£ ä¸»ç¨‹å¼åŸ·è¡Œæµç¨‹ (Main Execution Flow)
æ­¤æµç¨‹æè¿°äº†å¾žå•Ÿå‹•ç€è¦½å™¨ã€è‡ªå‹•è¾¨è­˜ç¶²é å…ƒç´ åˆ°æ¨¡æ“¬æ»‘é¼ å‹•ä½œçš„å®Œæ•´è‡ªå‹•åŒ–å¾ªç’°ã€‚

```mermaid
graph LR
    A[é–‹å§‹åŸ·è¡Œ main] --> B[å•Ÿå‹• Playwright ç€è¦½å™¨]
    B --> C[å‰å¾€éŠæˆ²ç¶²é ä¸¦ç­‰å¾…è¼‰å…¥]
    C --> D[è¾¨è­˜ iframe ä½ç½®èˆ‡èž¢å¹•ç¸®æ”¾å€çŽ‡ dpr]
    D --> E{æ˜¯å¦æŒ‰ä¸‹ Esc éµ?}
    E -- å¦ --> F[å°éŠæˆ²å€åŸŸæˆªåœ– current_game_area.png]
    F --> G[åŸ·è¡Œ read_matrix: è¾¨è­˜ 6x6 çƒé«”é¡è‰²èˆ‡åº§æ¨™]
    G --> H{è¾¨è­˜æˆåŠŸ 36 é¡†çƒ?}
    H -- å¦ --> I[å ±éŒ¯ä¸¦çµ‚æ­¢]
    H -- æ˜¯ --> J[åŸ·è¡Œ find_longest_move: å°‹æ‰¾æœ€é•·è·¯å¾‘]
    J --> K[åŸ·è¡Œ drag_path: æ¨¡æ“¬æ»‘é¼ æ‹–æ›³é€£ç·š]
    K --> L[æ ¹æ“šé€£ç·šé•·åº¦ç­‰å¾…éŠæˆ²å‹•ç•«]
    L --> E
    E -- æ˜¯ --> M[é—œé–‰ç€è¦½å™¨ä¸¦çµæŸ]
```

## 2ï¸âƒ£ æ ¸å¿ƒæ¼”ç®—æ³•ï¼šå°‹æ‰¾æœ€é•·è·¯å¾‘ (DFS Logic)
æ­¤æµç¨‹è©³è§£äº†å¦‚ä½•é€éŽæ·±åº¦å„ªå…ˆæœå°‹ï¼ˆDFSï¼‰èˆ‡å›žæº¯æ³•ï¼ˆBacktrackingï¼‰åœ¨ 6x6 çŸ©é™£ä¸­æ‰¾å‡ºæœ€é•·åŒè‰²é€£ç·šã€‚

```mermaid
flowchart LR
    Start([é–‹å§‹å°‹æ‰¾æœ€é•·é€£ç·š]) --> Init[åˆå§‹åŒ– visited çŸ©é™£èˆ‡ best_path]
    Init --> LoopStart{éæ­·æ‰€æœ‰æ ¼å­ i, j}
    
    LoopStart -- å·²è¨ªå•æˆ–æœªçµæŸ --> Next{é‚„æœ‰ä¸‹ä¸€å€‹é»ž?}
    Next -- æ˜¯ --> LoopStart
    Next -- å¦ --> End([å›žå‚³ best_path])
    
    LoopStart -- æœªè¨ªå• --> CallDFS[ä»¥æ­¤é»žç‚ºèµ·é»žå‘¼å« DFS]
    CallDFS --> DFSCheck{æ˜¯å¦æœ‰å¯é€£ç·šä¸”æœªåœ¨è·¯å¾‘ä¸­çš„çƒ?}
    
    DFSCheck -- æ˜¯ --> Forward[å‰é€²: åŠ å…¥è·¯å¾‘ä¸¦éžè¿´å‘¼å«]
    Forward --> Backtrack[å›žæº¯: ç§»é™¤è©²é»žå˜—è©¦å…¶ä»–åˆ†å²”]
    Backtrack --> DFSCheck
    
    DFSCheck -- å¦ --> Compare[æ›´æ–°ç›®å‰å€åŸŸå…§çš„æœ€é•·è·¯å¾‘]
    Compare --> MarkVisited[å°‡æ­¤å€åŸŸæ‰€æœ‰é»žæ¨™è¨˜ç‚ºå·²è¨ªå•]
    MarkVisited --> Next
```
